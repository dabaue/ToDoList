<template>
    <require from="../value-converter/DateFormatValueConverter"></require>
    <require from="../value-converter/IsDoneValueConverter"></require>
    <h1> </h1>


    <div class="d-flex justify-content-center">
        <div if.bind="!todos" class="spinner-border" role="status">
            <span class="sr-only">Please wait...</span>
        </div>
    </div>

    <div class="container">
        <div if.bind="todos">
            <table class="table">
                <tr class="thead-dark">
                    <th>#</th>
                    <th>Title</th>
                    <th>IsDone</th>
                    <th>Created</th>
                    <th>DueDate</th>
                    <th colspan="2">Edit</th>
                </tr>
                <template repeat.for="todo of todos">
                    <tr class=${myMethode(todo)}>
                        <td>${$index + 1}</td>
                        <td>${todo.title}</td>
                        <td>${todo.isDone | isDone}</td>
                        <td>${todo.created.toLocaleString() | dateFormat}</td>
                        <td>${todo.dueDate.toLocaleString() | dateFormat}</td>
                        <td><a route-href='route: edit; params.bind: {id: todo.id}'class="btn btn-outline-success">Edit</a></td>
                        <td><a route-href='route: delete; params.bind: {id: todo.id}' class="btn btn-outline-danger">Delete</a></td>
                    </tr>
                </template>
            </table>
        </div>
    </div>
</template>